pipeline {
    agent { 
		docker { 
			image 'alpine:latest' 
		}
	}
    stages {
    	stage('build') {
		steps {
			writeToFile()
		}
	}
	stage('test') {
		steps {
			checkYear('2022')
		}
	}
    }
}

def writeToFile() {
	sh "date >> file.txt && cat file.txt"
}

def checkYear(year) {
	sh "cat file.txt | grep $year"
}
