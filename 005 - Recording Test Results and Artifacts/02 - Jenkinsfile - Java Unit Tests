pipeline {
    agent { 
    	docker {
			image 'maven:latest'
		}
	}
	environment {
		POM_PATH="005 - Recording Test Results and Artifacts/02 - Java Unit Tests"
	}
    stages {
        stage('tests') {
            steps {
	    	sh "mvn install -f \"$POM_PATH\" -Dmaven.test.skip=true"
		
                configFileProvider([configFile(fileId: 'settings.xml', variable: 'MAVEN_SETTINGS')]) {
        		sh 'mvn -s $MAVEN_SETTINGS -Dtest=HelloWorldTest testGetText'
   			 }
		 }
        }
    }
}
