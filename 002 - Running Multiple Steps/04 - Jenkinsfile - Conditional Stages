pipeline {
    agent { 
		docker { 
			image 'alpine:latest' 
		}
	}
    parameters {
    	choice(name: 'PHASE', choices: ['build', 'test'])
    }
    stages {
    	stage('build') {
		when {
			expression {
				${params.PHASE == 'build'
			}
		}
		steps {
			echo "build"
		}
	}
	stage('test') {
		when {
			expression {
				${params.PHASE == 'test'
			}
		}
		steps {
			echo "test"
		}
	}
    }
}
